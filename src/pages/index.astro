---
import Welcome from "../components/Welcome.astro";
import Shirts from "../components/Shirts.astro";
import Layout from "../layouts/Layout.astro";
import Icon from "../components/common/Icon.vue";
import { getShirts } from "../utils/sanity";
import { BackgroundImage, Picture } from "astro-imagetools/components";
const shirts = await getShirts();
---

<Layout title="Engsta Rides" description="Shirts that make you go vroom vroom">
  <BackgroundImage
    src="/src/assets/pics/open_sky.jpeg"
    attributes={{
      container: {
        class:
          "h-[30rem] md:h-[600px] xl:h-[800px] border-box pt-4 md:pt-8 md:pb-16",
      },
    }}
    brightness={0.6}
    backgroundPosition="50% 60%"
  >
    <div
      class="box-border flex h-full flex-col items-center justify-center px-10 gap-y-10 lg:px-14"
    >
      <!-- <Picture
        src={"/src/assets/logo/engsta_logo.png"}
        layout="fixed"
        alt="Engsta Rides Logo"
        format="png"
        breakpoints={[130, 200, 400]}
        sizes={`(max-width: 360px) 130px, (max-width: 720px) 200px, 400px`}
      /> -->
      <!-- <h1
        class="text-shadow text-lg uppercase tracking-wider text-light md:text-5xl text-graffiti"
      >
        Engsta Rides
      </h1> -->
      <h1
        class="text-shadow text-graffiti text-center text-5xl font-bold uppercase tracking-widest text-light lg:text-6xl"
      >
        <!-- Engsta Rides -->
        New Products
      </h1>
      <div class="h-3/4">
      <Picture
      layout="fill"
        src={"/src/assets/pics/engsta_soon.png"}
        alt="Coming soon.. new products"
        format="png"
        breakpoints={[230, 720, 1220]}
        width="600px"
      />
    </div>
    </div>
  </BackgroundImage>
  <main
    id="main__content"
    class="container box-border flex flex-col gap-16 pb-32 pt-14"
  >
    <h1 class="text-center">
      <em class="font-accent">NEWEST</em>
      <p class="text-graffiti text-4xl tracking-wider sm:text-5xl">
        Spray Paint
      </p>
      <em class="font-accent">COLLECTION</em>
    </h1>
    {shirts.length ? <Shirts shirts={shirts} /> : <Welcome />}
  </main>
  <!-- <section class="mb-4 ml-auto mr-auto flex flex-col gap-y-6 rounded bg-white px-8 pb-8 pt-6 text-center shadow-md">
    <h1 class="text-center text-5xl text-graffiti mb-6">New Products</h1>
    <Picture
      src={"/src/assets/pics/engsta_soon.png"}
      layout="fixed"
      alt="Coming soon.. new products"
      format="png"
      breakpoints={[230, 400, 600]}
      sizes={`(max-width: 360px) 230px, (max-width: 720px) 400px, 600px`}
    />
  </section> -->
  <section
    class="container box-border flex flex-col items-center gap-y-4 pb-32 pt-14"
  >
  <h1 class="text-center font-accent text-graffiti text-6xl mb-9">Odin's Kingdom</h1>
    <i class="block text-center text-[#fa375a]"
      ><Icon
        name="la-airbnb"
        scale="5"
        label="Engsta Rides Official Airbnb"
      /></i
    >
    <h2 class="text-center font-accent text-4xl">AirBnB - Odin's Kingdom, Oklahoma</h2>
    <a
      href="https://www.airbnb.com/rooms/1115942653367422106"
      class="w-80 rounded-full bg-accent px-4 py-2 text-center text-lg font-bold text-white hover:opacity-80 lg:w-6/12"
      >VIEW AIRBNB</a
    >
  </section>
  <section class="grated-bg mt-6 pb-14 pt-14">
    <div
      class="mb-4 ml-auto mr-auto flex w-full max-w-lg flex-col gap-y-6 rounded text-white px-8 pb-8 pt-6 text-center shadow-md"
    >
    <Picture
      src="/src/assets/pics/palooza_2023_big.png"
      alt="PCA Palooza"
      attributes={{
        img: {
          class: "ml-auto mr-auto max-h-80",
        },
      }}
      layout="fill"
      objectFit="contain"
    />
      <p class="mb-5 text-center font-accent text-xl">
        It was great seeing everyone.
      </p>
      <strong class="mb-5 text-center font-accent text-3xl">
        See you all next year!
      </strong>
    </div>
  </section>
  <script is:inline>
    document.addEventListener("astro:page-load", function () {
      const searchParams = new URLSearchParams(window.location.search);
      if (searchParams.get("scroll")) {
        const element = document.getElementById("main__content");
        if (element) {
          element.scrollIntoView({ behavior: "smooth" });
        }
      }
    });
  </script>
</Layout>
